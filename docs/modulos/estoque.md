# M√≥dulo de Estoque

## 1. Vis√£o Geral

### 1.1 Descri√ß√£o
O **M√≥dulo de Estoque** √© respons√°vel pelo controle completo de invent√°rio da empresa, incluindo gest√£o de produtos, movimenta√ß√µes, saldos, localiza√ß√µes e centro de custos. O m√≥dulo integra-se diretamente com os m√≥dulos de Compras e Tombamento para garantir um fluxo completo desde a aquisi√ß√£o at√© a destina√ß√£o final dos itens.

### 1.2 Caracter√≠sticas Principais
- **Controle de Saldos:** Gest√£o em tempo real de quantidades dispon√≠veis
- **Movimenta√ß√µes:** Registro completo de entradas, sa√≠das e transfer√™ncias
- **Centro de Custo:** Segrega√ß√£o de estoque por centro de custo
- **Localiza√ß√µes:** Controle f√≠sico de onde os itens est√£o armazenados
- **Invent√°rio F√≠sico:** Ferramentas para contagem e ajustes de estoque
- **Solicita√ß√µes:** Sistema de requisi√ß√µes internas de materiais
- **Integra√ß√£o:** Conex√£o autom√°tica com Compras e Tombamento
- **Relat√≥rios:** Analytics completos de movimenta√ß√£o e custos

### 1.3 Status de Implementa√ß√£o
- **Status:** üìã Planejado
- **Prioridade:** Alta
- **Categoria:** M√≥dulo de Neg√≥cio
- **Depend√™ncias:** Compras, Tombamento, Centro de Custo

---

## 2. Objetivos e Prop√≥sito

### 2.1 Objetivos Principais
- **Controle Preciso:** Manter controle exato de quantidades e valores em estoque
- **Rastreabilidade:** Garantir rastreabilidade completa de todos os itens
- **Otimiza√ß√£o:** Otimizar n√≠veis de estoque e reduzir custos
- **Integra√ß√£o:** Integrar fluxos de compra, estoque e tombamento
- **Transpar√™ncia:** Fornecer visibilidade total sobre movimenta√ß√µes
- **Compliance:** Atender requisitos fiscais e de auditoria

### 2.2 Problemas Resolvidos
- Falta de controle sobre quantidades em estoque
- Dificuldade em localizar itens fisicamente
- Aus√™ncia de segrega√ß√£o por centro de custo
- Processos manuais de requisi√ß√£o de materiais
- Falta de integra√ß√£o entre compras e estoque
- Dificuldade em realizar invent√°rios f√≠sicos
- Aus√™ncia de relat√≥rios gerenciais de estoque

### 2.3 Benef√≠cios Esperados
- Redu√ß√£o de perdas e desperd√≠cios
- Melhoria na gest√£o de custos
- Agilidade em processos de requisi√ß√£o
- Maior controle e transpar√™ncia
- Facilidade em auditorias
- Otimiza√ß√£o de espa√ßo f√≠sico
- Integra√ß√£o com outros m√≥dulos

---

## 3. Requisitos Funcionais e N√£o Funcionais

### 3.1 Requisitos Funcionais

#### 3.1.1 Gest√£o de Produtos
- **RF001:** Cadastro completo de produtos com categorias
- **RF002:** Controle de unidades de medida e convers√µes
- **RF003:** Gest√£o de c√≥digos de barras e identifica√ß√£o
- **RF004:** Vincula√ß√£o com fornecedores preferenciais
- **RF005:** Controle de validade e lotes

#### 3.1.2 Movimenta√ß√µes de Estoque
- **RF006:** Registro de entradas por compras
- **RF007:** Registro de sa√≠das por solicita√ß√µes
- **RF008:** Transfer√™ncias entre localiza√ß√µes
- **RF009:** Ajustes de invent√°rio
- **RF010:** Devolu√ß√µes e cancelamentos

#### 3.1.3 Controle de Saldos
- **RF011:** Saldo em tempo real por produto
- **RF012:** Saldo por centro de custo
- **RF013:** Saldo por localiza√ß√£o f√≠sica
- **RF014:** Hist√≥rico de movimenta√ß√µes
- **RF015:** Reservas de produtos

#### 3.1.4 Solicita√ß√µes de Material
- **RF016:** Cria√ß√£o de solicita√ß√µes internas
- **RF017:** Workflow de aprova√ß√£o
- **RF018:** Atendimento de solicita√ß√µes
- **RF019:** Controle de pend√™ncias
- **RF020:** Hist√≥rico de solicita√ß√µes

#### 3.1.5 Invent√°rio F√≠sico
- **RF021:** Cria√ß√£o de invent√°rios por per√≠odo
- **RF022:** Contagem por localiza√ß√£o
- **RF023:** Compara√ß√£o com saldo sistema
- **RF024:** Ajustes autom√°ticos
- **RF025:** Relat√≥rios de diverg√™ncias

### 3.2 Requisitos N√£o Funcionais

#### 3.2.1 Performance
- **RNF001:** Consultas de saldo em <500ms
- **RNF002:** Suporte a 10.000+ produtos simult√¢neos
- **RNF003:** Processamento de 1.000+ movimenta√ß√µes/dia
- **RNF004:** Backup autom√°tico di√°rio

#### 3.2.2 Seguran√ßa
- **RNF005:** Controle de acesso por perfil
- **RNF006:** Auditoria de todas as opera√ß√µes
- **RNF007:** Criptografia de dados sens√≠veis
- **RNF008:** Isolamento por empresa (multi-tenant)

#### 3.2.3 Usabilidade
- **RNF009:** Interface intuitiva e responsiva
- **RNF010:** Suporte a dispositivos m√≥veis
- **RNF011:** Leitura de c√≥digos de barras
- **RNF012:** Exporta√ß√£o de relat√≥rios

#### 3.2.4 Integra√ß√£o
- **RNF013:** APIs REST para integra√ß√£o
- **RNF014:** Webhooks para eventos
- **RNF015:** Sincroniza√ß√£o em tempo real
- **RNF016:** Compatibilidade com ERP externo

---

## 4. Funcionalidades Planejadas

### 4.1 Gest√£o de Produtos

#### 4.1.1 Cadastro de Produtos
- Informa√ß√µes b√°sicas (nome, descri√ß√£o, categoria)
- C√≥digos de identifica√ß√£o (SKU, c√≥digo de barras)
- Unidades de medida e convers√µes
- Especifica√ß√µes t√©cnicas
- Fornecedores preferenciais
- Par√¢metros de estoque (m√≠nimo, m√°ximo, ponto de reposi√ß√£o)

#### 4.1.2 Categoriza√ß√£o
- Hierarquia de categorias
- Classifica√ß√£o ABC
- Tipo de produto (consumo, permanente, revenda)
- Criticidade e import√¢ncia
- Sazonalidade

### 4.2 Movimenta√ß√µes

#### 4.2.1 Tipos de Movimenta√ß√£o
- **Entrada:** Compras, devolu√ß√µes, ajustes positivos
- **Sa√≠da:** Solicita√ß√µes, transfer√™ncias, ajustes negativos
- **Transfer√™ncia:** Entre localiza√ß√µes ou centros de custo
- **Reserva:** Bloqueio tempor√°rio de quantidades

#### 4.2.2 Controles
- Valida√ß√£o de saldos dispon√≠veis
- Rastreabilidade completa
- Documenta√ß√£o obrigat√≥ria
- Aprova√ß√µes quando necess√°rio
- Integra√ß√£o autom√°tica com outros m√≥dulos

### 4.3 Localiza√ß√µes

#### 4.3.1 Estrutura F√≠sica
- Almoxarifados
- Setores/Departamentos
- Prateleiras/Posi√ß√µes
- Endere√ßamento hier√°rquico
- Capacidade e limita√ß√µes

#### 4.3.2 Controles de Localiza√ß√£o
- Produtos por localiza√ß√£o
- Movimenta√ß√µes entre locais
- Otimiza√ß√£o de espa√ßo
- Mapeamento visual
- Controle de acesso f√≠sico

### 4.4 Solicita√ß√µes de Material

#### 4.4.1 Processo de Solicita√ß√£o
- Cria√ß√£o por usu√°rio solicitante
- Sele√ß√£o de produtos do cat√°logo
- Justificativa e centro de custo
- Workflow de aprova√ß√£o
- Atendimento pelo almoxarifado

#### 4.4.2 Controles
- Valida√ß√£o de saldo dispon√≠vel
- Aprova√ß√£o por hierarquia
- Prioriza√ß√£o de solicita√ß√µes
- Controle de prazos
- Hist√≥rico completo

### 4.5 Invent√°rio F√≠sico

#### 4.5.1 Planejamento
- Defini√ß√£o de per√≠odos
- Sele√ß√£o de produtos/localiza√ß√µes
- Equipes de contagem
- Cronograma de execu√ß√£o
- Bloqueio de movimenta√ß√µes

#### 4.5.2 Execu√ß√£o
- Contagem f√≠sica
- Registro no sistema
- Compara√ß√£o autom√°tica
- Identifica√ß√£o de diverg√™ncias
- Ajustes necess√°rios

### 4.6 Centro de Custo

#### 4.6.1 Segrega√ß√£o
- Estoque por centro de custo
- Movimenta√ß√µes espec√≠ficas
- Relat√≥rios segmentados
- Controle de or√ßamento
- Responsabilidades definidas

#### 4.6.2 Controles
- Transfer√™ncias entre centros
- Aprova√ß√µes espec√≠ficas
- Rateio de custos
- An√°lise de consumo
- Otimiza√ß√£o de recursos

---

## 5. Arquitetura T√©cnica Planejada

### 5.1 Estrutura de Arquivos
```
/app/src/modules/estoque/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ produtos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProdutoForm.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProdutoList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ProdutoCard.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ProdutoSearch.tsx
‚îÇ   ‚îú‚îÄ‚îÄ movimentacoes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MovimentacaoForm.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ MovimentacaoList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ EntradaForm.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SaidaForm.tsx
‚îÇ   ‚îú‚îÄ‚îÄ saldos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SaldoCard.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SaldoList.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SaldoChart.tsx
‚îÇ   ‚îú‚îÄ‚îÄ solicitacoes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SolicitacaoForm.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SolicitacaoList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ SolicitacaoCard.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ AprovacaoForm.tsx
‚îÇ   ‚îú‚îÄ‚îÄ inventario/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InventarioForm.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ InventarioList.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ContagemForm.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ DivergenciaList.tsx
‚îÇ   ‚îî‚îÄ‚îÄ localizacoes/
‚îÇ       ‚îú‚îÄ‚îÄ LocalizacaoForm.tsx
‚îÇ       ‚îú‚îÄ‚îÄ LocalizacaoTree.tsx
‚îÇ       ‚îî‚îÄ‚îÄ LocalizacaoMap.tsx
‚îú‚îÄ‚îÄ pages/
‚îÇ   ‚îú‚îÄ‚îÄ produtos/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id].tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ novo.tsx
‚îÇ   ‚îú‚îÄ‚îÄ movimentacoes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ entrada.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ saida.tsx
‚îÇ   ‚îú‚îÄ‚îÄ saldos/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.tsx
‚îÇ   ‚îú‚îÄ‚îÄ solicitacoes/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id].tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ nova.tsx
‚îÇ   ‚îú‚îÄ‚îÄ inventario/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.tsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ [id].tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ novo.tsx
‚îÇ   ‚îî‚îÄ‚îÄ relatorios/
‚îÇ       ‚îî‚îÄ‚îÄ index.tsx
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ produtos/
‚îÇ   ‚îú‚îÄ‚îÄ movimentacoes/
‚îÇ   ‚îú‚îÄ‚îÄ saldos/
‚îÇ   ‚îú‚îÄ‚îÄ solicitacoes/
‚îÇ   ‚îú‚îÄ‚îÄ inventario/
‚îÇ   ‚îî‚îÄ‚îÄ relatorios/
‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îú‚îÄ‚îÄ useProdutos.ts
‚îÇ   ‚îú‚îÄ‚îÄ useMovimentacoes.ts
‚îÇ   ‚îú‚îÄ‚îÄ useSaldos.ts
‚îÇ   ‚îú‚îÄ‚îÄ useSolicitacoes.ts
‚îÇ   ‚îî‚îÄ‚îÄ useInventario.ts
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îú‚îÄ‚îÄ EstoqueService.ts
‚îÇ   ‚îú‚îÄ‚îÄ SolicitacaoService.ts
‚îÇ   ‚îú‚îÄ‚îÄ InventarioService.ts
‚îÇ   ‚îî‚îÄ‚îÄ RelatorioService.ts
‚îú‚îÄ‚îÄ types/
‚îÇ   ‚îú‚îÄ‚îÄ produto.ts
‚îÇ   ‚îú‚îÄ‚îÄ movimentacao.ts
‚îÇ   ‚îú‚îÄ‚îÄ solicitacao.ts
‚îÇ   ‚îî‚îÄ‚îÄ inventario.ts
‚îî‚îÄ‚îÄ utils/
    ‚îú‚îÄ‚îÄ calculations.ts
    ‚îú‚îÄ‚îÄ validations.ts
    ‚îî‚îÄ‚îÄ formatters.ts
```

### 5.2 Modelos de Dados (Prisma)

#### 5.2.1 Produto
```prisma
model Produto {
  id              String    @id @default(cuid())
  
  // Informa√ß√µes B√°sicas
  nome            String
  descricao       String?
  sku             String    @unique
  codigoBarras    String?   @unique
  
  // Categoria
  categoriaId     String
  categoria       CategoriaProduto @relation(fields: [categoriaId], references: [id])
  
  // Unidades
  unidadeMedida   String    // UN, KG, L, M, etc.
  unidadeCompra   String?   // Unidade de compra se diferente
  fatorConversao  Decimal?  // Fator de convers√£o
  
  // Especifica√ß√µes
  marca           String?
  modelo          String?
  especificacoes  Json?     // Especifica√ß√µes t√©cnicas
  
  // Controle de Estoque
  estoqueMinimo   Decimal?
  estoqueMaximo   Decimal?
  pontoReposicao  Decimal?
  
  // Classifica√ß√£o
  tipoItem        TipoItem  @default(CONSUMO)
  classificacaoABC ClassificacaoABC @default(C)
  criticidade     Criticidade @default(BAIXA)
  
  // Validade
  controleLote    Boolean   @default(false)
  controleValidade Boolean  @default(false)
  diasValidade    Int?
  
  // Status
  ativo           Boolean   @default(true)
  
  // Relacionamentos
  movimentacoes   MovimentacaoEstoque[]
  saldos          SaldoEstoque[]
  solicitacoes    ItemSolicitacao[]
  inventarios     ItemInventario[]
  fornecedores    ProdutoFornecedor[]
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@map("produtos")
}

model CategoriaProduto {
  id              String    @id @default(cuid())
  
  // Informa√ß√µes
  nome            String
  descricao       String?
  codigo          String?
  
  // Hierarquia
  parentId        String?
  parent          CategoriaProduto? @relation("CategoriaHierarquia", fields: [parentId], references: [id])
  subcategorias   CategoriaProduto[] @relation("CategoriaHierarquia")
  
  // Configura√ß√µes
  controlaEstoque Boolean   @default(true)
  permiteNegativo Boolean   @default(false)
  
  // Status
  ativa           Boolean   @default(true)
  
  // Relacionamentos
  produtos        Produto[]
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@unique([empresaId, codigo])
  @@map("categorias_produto")
}
```

#### 5.2.2 Movimenta√ß√µes
```prisma
model MovimentacaoEstoque {
  id              String    @id @default(cuid())
  
  // Produto
  produtoId       String
  produto         Produto   @relation(fields: [produtoId], references: [id])
  
  // Tipo de Movimenta√ß√£o
  tipo            TipoMovimentacao
  operacao        OperacaoEstoque
  
  // Quantidades
  quantidade      Decimal
  quantidadeAnterior Decimal
  quantidadePosterior Decimal
  
  // Valores
  valorUnitario   Decimal?
  valorTotal      Decimal?
  
  // Localiza√ß√£o
  localizacaoId   String?
  localizacao     Localizacao? @relation(fields: [localizacaoId], references: [id])
  
  // Centro de Custo
  centroCustoId   String?
  centroCusto     CentroCusto? @relation(fields: [centroCustoId], references: [id])
  
  // Lote e Validade
  lote            String?
  dataValidade    DateTime?
  
  // Documenta√ß√£o
  numeroDocumento String?
  tipoDocumento   TipoDocumento?
  observacoes     String?
  
  // Origem da Movimenta√ß√£o
  pedidoCompraId  String?    // Se veio de compra
  solicitacaoId   String?    // Se foi solicita√ß√£o
  inventarioId    String?    // Se foi ajuste de invent√°rio
  
  // Respons√°vel
  usuarioId       String
  usuario         Usuario   @relation(fields: [usuarioId], references: [id])
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  
  @@map("movimentacoes_estoque")
}

model SaldoEstoque {
  id              String    @id @default(cuid())
  
  // Produto
  produtoId       String
  produto         Produto   @relation(fields: [produtoId], references: [id])
  
  // Localiza√ß√£o
  localizacaoId   String?
  localizacao     Localizacao? @relation(fields: [localizacaoId], references: [id])
  
  // Centro de Custo
  centroCustoId   String?
  centroCusto     CentroCusto? @relation(fields: [centroCustoId], references: [id])
  
  // Lote
  lote            String?
  dataValidade    DateTime?
  
  // Quantidades
  quantidade      Decimal   @default(0)
  quantidadeReservada Decimal @default(0)
  quantidadeDisponivel Decimal @default(0)
  
  // Valores
  valorUnitario   Decimal?
  valorTotal      Decimal?
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  updatedAt       DateTime  @updatedAt
  
  @@unique([empresaId, produtoId, localizacaoId, centroCustoId, lote])
  @@map("saldos_estoque")
}
```

#### 5.2.3 Solicita√ß√µes
```prisma
model SolicitacaoEstoque {
  id              String    @id @default(cuid())
  
  // Identifica√ß√£o
  numero          String    @unique
  
  // Solicitante
  solicitanteId   String
  solicitante     Usuario   @relation("SolicitacaoSolicitante", fields: [solicitanteId], references: [id])
  
  // Centro de Custo
  centroCustoId   String
  centroCusto     CentroCusto @relation(fields: [centroCustoId], references: [id])
  
  // Localiza√ß√£o Destino
  localizacaoId   String?
  localizacao     Localizacao? @relation(fields: [localizacaoId], references: [id])
  
  // Informa√ß√µes
  descricao       String?
  justificativa   String
  prioridade      PrioridadeSolicitacao @default(NORMAL)
  
  // Datas
  dataLimite      DateTime?
  dataAtendimento DateTime?
  
  // Status
  status          StatusSolicitacao @default(PENDENTE)
  
  // Aprova√ß√£o
  aprovadorId     String?
  aprovador       Usuario?  @relation("SolicitacaoAprovador", fields: [aprovadorId], references: [id])
  dataAprovacao   DateTime?
  comentariosAprovacao String?
  
  // Atendimento
  atendentId      String?
  atendente       Usuario?  @relation("SolicitacaoAtendente", fields: [atendentId], references: [id])
  
  // Itens
  itens           ItemSolicitacao[]
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@map("solicitacoes_estoque")
}

model ItemSolicitacao {
  id              String    @id @default(cuid())
  
  // Solicita√ß√£o
  solicitacaoId   String
  solicitacao     SolicitacaoEstoque @relation(fields: [solicitacaoId], references: [id], onDelete: Cascade)
  
  // Produto
  produtoId       String
  produto         Produto   @relation(fields: [produtoId], references: [id])
  
  // Quantidades
  quantidadeSolicitada Decimal
  quantidadeAtendida   Decimal @default(0)
  quantidadePendente   Decimal
  
  // Lote espec√≠fico
  loteEspecifico  String?
  
  // Observa√ß√µes
  observacoes     String?
  
  // Status
  status          StatusItemSolicitacao @default(PENDENTE)
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@map("itens_solicitacao")
}
```

#### 5.2.4 Invent√°rio
```prisma
model InventarioFisico {
  id              String    @id @default(cuid())
  
  // Identifica√ß√£o
  numero          String    @unique
  descricao       String
  
  // Per√≠odo
  dataInicio      DateTime
  dataFim         DateTime?
  
  // Escopo
  localizacaoId   String?
  localizacao     Localizacao? @relation(fields: [localizacaoId], references: [id])
  categoriaId     String?
  categoria       CategoriaProduto? @relation(fields: [categoriaId], references: [id])
  
  // Respons√°vel
  responsavelId   String
  responsavel     Usuario   @relation(fields: [responsavelId], references: [id])
  
  // Status
  status          StatusInventario @default(PLANEJADO)
  
  // Configura√ß√µes
  bloquearMovimentacoes Boolean @default(true)
  ajustarAutomaticamente Boolean @default(false)
  
  // Resultados
  totalItens      Int       @default(0)
  totalDivergencias Int     @default(0)
  valorDivergencias Decimal @default(0)
  
  // Itens
  itens           ItemInventario[]
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@map("inventarios_fisicos")
}

model ItemInventario {
  id              String    @id @default(cuid())
  
  // Invent√°rio
  inventarioId    String
  inventario      InventarioFisico @relation(fields: [inventarioId], references: [id], onDelete: Cascade)
  
  // Produto
  produtoId       String
  produto         Produto   @relation(fields: [produtoId], references: [id])
  
  // Localiza√ß√£o
  localizacaoId   String?
  localizacao     Localizacao? @relation(fields: [localizacaoId], references: [id])
  
  // Lote
  lote            String?
  dataValidade    DateTime?
  
  // Quantidades
  quantidadeSistema   Decimal
  quantidadeContada   Decimal?
  quantidadeDivergencia Decimal @default(0)
  
  // Valores
  valorUnitario   Decimal?
  valorDivergencia Decimal @default(0)
  
  // Contagem
  contadorId      String?
  contador        Usuario?  @relation(fields: [contadorId], references: [id])
  dataContagem    DateTime?
  
  // Status
  status          StatusItemInventario @default(PENDENTE)
  observacoes     String?
  
  // Ajuste
  ajustado        Boolean   @default(false)
  movimentacaoId  String?   // ID da movimenta√ß√£o de ajuste
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@map("itens_inventario")
}
```

#### 5.2.5 Localiza√ß√£o
```prisma
model Localizacao {
  id              String    @id @default(cuid())
  
  // Identifica√ß√£o
  codigo          String
  nome            String
  descricao       String?
  
  // Hierarquia
  parentId        String?
  parent          Localizacao? @relation("LocalizacaoHierarquia", fields: [parentId], references: [id])
  sublocalizacoes Localizacao[] @relation("LocalizacaoHierarquia")
  
  // Tipo
  tipo            TipoLocalizacao
  
  // Capacidade
  capacidadeMaxima Decimal?
  unidadeCapacidade String?
  
  // Endere√ßo F√≠sico
  endereco        String?
  andar           String?
  sala            String?
  prateleira      String?
  posicao         String?
  
  // Configura√ß√µes
  controlaCapacidade Boolean @default(false)
  permiteNegativo Boolean    @default(false)
  ativa           Boolean    @default(true)
  
  // Respons√°vel
  responsavelId   String?
  responsavel     Usuario?  @relation(fields: [responsavelId], references: [id])
  
  // Relacionamentos
  saldos          SaldoEstoque[]
  movimentacoes   MovimentacaoEstoque[]
  solicitacoes    SolicitacaoEstoque[]
  inventarios     InventarioFisico[]
  itensInventario ItemInventario[]
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@unique([empresaId, codigo])
  @@map("localizacoes")
}
```

#### 5.2.6 Produto-Fornecedor
```prisma
model ProdutoFornecedor {
  id              String    @id @default(cuid())
  
  // Produto
  produtoId       String
  produto         Produto   @relation(fields: [produtoId], references: [id], onDelete: Cascade)
  
  // Fornecedor (refer√™ncia ao m√≥dulo de Compras)
  fornecedorId    String
  
  // Informa√ß√µes do Fornecedor
  codigoFornecedor String?  // C√≥digo do produto no fornecedor
  descricaoFornecedor String?
  
  // Pre√ßos
  precoUnitario   Decimal?
  moeda           String    @default("BRL")
  dataUltimaCompra DateTime?
  
  // Prazos
  prazoEntrega    Int?      // Em dias
  quantidadeMinima Decimal?
  
  // Prefer√™ncia
  preferencial    Boolean   @default(false)
  ativo           Boolean   @default(true)
  
  // Metadados
  empresaId       String
  empresa         Empresa   @relation(fields: [empresaId], references: [id])
  
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt
  
  @@unique([produtoId, fornecedorId])
  @@map("produtos_fornecedores")
}
```

### 5.3 Enums
```prisma
enum TipoItem {
  CONSUMO      // Material de consumo
  PERMANENTE   // Bem permanente (vai para tombamento)
  REVENDA      // Para revenda
  MATERIA_PRIMA // Mat√©ria-prima
  EMBALAGEM    // Material de embalagem
}

enum ClassificacaoABC {
  A  // Alto valor/import√¢ncia
  B  // M√©dio valor/import√¢ncia
  C  // Baixo valor/import√¢ncia
}

enum Criticidade {
  BAIXA
  MEDIA
  ALTA
  CRITICA
}

enum TipoMovimentacao {
  ENTRADA
  SAIDA
  TRANSFERENCIA
  AJUSTE
  RESERVA
  LIBERACAO_RESERVA
}

enum OperacaoEstoque {
  COMPRA
  DEVOLUCAO_COMPRA
  SOLICITACAO
  DEVOLUCAO_SOLICITACAO
  TRANSFERENCIA_ENTRADA
  TRANSFERENCIA_SAIDA
  AJUSTE_POSITIVO
  AJUSTE_NEGATIVO
  INVENTARIO
  RESERVA
  LIBERACAO_RESERVA
  PERDA
  QUEBRA
}

enum TipoDocumento {
  NOTA_FISCAL
  REQUISICAO
  TRANSFERENCIA
  AJUSTE
  INVENTARIO
  OUTROS
}

enum StatusSolicitacao {
  PENDENTE
  APROVADA
  REJEITADA
  ATENDIDA_PARCIAL
  ATENDIDA_TOTAL
  CANCELADA
}

enum StatusItemSolicitacao {
  PENDENTE
  ATENDIDO_PARCIAL
  ATENDIDO_TOTAL
  CANCELADO
}

enum PrioridadeSolicitacao {
  BAIXA
  NORMAL
  ALTA
  URGENTE
}

enum StatusInventario {
  PLANEJADO
  EM_ANDAMENTO
  FINALIZADO
  CANCELADO
}

enum StatusItemInventario {
  PENDENTE
  CONTADO
  DIVERGENTE
  AJUSTADO
}

enum TipoLocalizacao {
  ALMOXARIFADO
  DEPOSITO
  SETOR
  PRATELEIRA
  POSICAO
}
```

### 5.4 Hooks Customizados Planejados

#### 5.4.1 useProdutos
```typescript
export const useProdutos = () => {
  // Listagem e busca de produtos
  // CRUD completo
  // Filtros e ordena√ß√£o
  // Valida√ß√µes
}
```

#### 5.4.2 useMovimentacoes
```typescript
export const useMovimentacoes = () => {
  // Registro de movimenta√ß√µes
  // Hist√≥rico de movimenta√ß√µes
  // Valida√ß√µes de saldo
  // Integra√ß√£o com outros m√≥dulos
}
```

#### 5.4.3 useSaldos
```typescript
export const useSaldos = () => {
  // Consulta de saldos em tempo real
  // Saldos por localiza√ß√£o/centro de custo
  // Reservas e disponibilidade
  // Alertas de estoque m√≠nimo
}
```

#### 5.4.4 useSolicitacoes
```typescript
export const useSolicitacoes = () => {
  // Cria√ß√£o e gest√£o de solicita√ß√µes
  // Workflow de aprova√ß√£o
  // Atendimento de solicita√ß√µes
  // Controle de pend√™ncias
}
```

#### 5.4.5 useInventario
```typescript
export const useInventario = () => {
  // Cria√ß√£o de invent√°rios
  // Processo de contagem
  // An√°lise de diverg√™ncias
  // Ajustes autom√°ticos
}
```

### 5.5 Servi√ßos de Neg√≥cio

#### 5.5.1 EstoqueService
```typescript
class EstoqueService {
  // Gest√£o de saldos
  // Valida√ß√µes de movimenta√ß√£o
  // C√°lculos de disponibilidade
  // Integra√ß√£o com outros m√≥dulos
}
```

#### 5.5.2 SolicitacaoService
```typescript
class SolicitacaoService {
  // Workflow de solicita√ß√µes
  // Valida√ß√µes de aprova√ß√£o
  // Atendimento autom√°tico
  // Notifica√ß√µes
}
```

#### 5.5.3 InventarioService
```typescript
class InventarioService {
  // Planejamento de invent√°rios
  // Processo de contagem
  // An√°lise de diverg√™ncias
  // Ajustes autom√°ticos
}
```

---

## 6. APIs e Endpoints Planejados

### 6.1 Endpoints Principais

#### 6.1.1 Produtos
```typescript
// Produtos
GET    /api/estoque/produtos              # Listar produtos
POST   /api/estoque/produtos              # Criar produto
GET    /api/estoque/produtos/[id]         # Buscar produto
PUT    /api/estoque/produtos/[id]         # Atualizar produto
DELETE /api/estoque/produtos/[id]         # Deletar produto
GET    /api/estoque/produtos/search       # Buscar produtos
GET    /api/estoque/produtos/[id]/saldo   # Saldo do produto
GET    /api/estoque/produtos/[id]/historico # Hist√≥rico de movimenta√ß√µes

// Categorias
GET    /api/estoque/categorias            # Listar categorias
POST   /api/estoque/categorias            # Criar categoria
GET    /api/estoque/categorias/[id]       # Buscar categoria
PUT    /api/estoque/categorias/[id]       # Atualizar categoria
DELETE /api/estoque/categorias/[id]       # Deletar categoria
```

#### 6.1.2 Movimenta√ß√µes
```typescript
// Movimenta√ß√µes
GET    /api/estoque/movimentacoes         # Listar movimenta√ß√µes
POST   /api/estoque/movimentacoes         # Criar movimenta√ß√£o
GET    /api/estoque/movimentacoes/[id]    # Buscar movimenta√ß√£o
PUT    /api/estoque/movimentacoes/[id]    # Atualizar movimenta√ß√£o
DELETE /api/estoque/movimentacoes/[id]    # Deletar movimenta√ß√£o

// Entradas
POST   /api/estoque/entradas              # Registrar entrada
POST   /api/estoque/entradas/compra       # Entrada por compra
POST   /api/estoque/entradas/ajuste       # Ajuste positivo

// Sa√≠das
POST   /api/estoque/saidas                # Registrar sa√≠da
POST   /api/estoque/saidas/solicitacao    # Sa√≠da por solicita√ß√£o
POST   /api/estoque/saidas/ajuste         # Ajuste negativo

// Transfer√™ncias
POST   /api/estoque/transferencias        # Transferir entre localiza√ß√µes
```

#### 6.1.3 Saldos
```typescript
// Saldos
GET    /api/estoque/saldos                # Listar saldos
GET    /api/estoque/saldos/produto/[id]   # Saldo por produto
GET    /api/estoque/saldos/localizacao/[id] # Saldo por localiza√ß√£o
GET    /api/estoque/saldos/centro-custo/[id] # Saldo por centro de custo
GET    /api/estoque/saldos/resumo         # Resumo de saldos
GET    /api/estoque/saldos/alertas        # Alertas de estoque m√≠nimo

// Reservas
POST   /api/estoque/reservas              # Criar reserva
DELETE /api/estoque/reservas/[id]         # Liberar reserva
GET    /api/estoque/reservas              # Listar reservas
```

#### 6.1.4 Solicita√ß√µes
```typescript
// Solicita√ß√µes
GET    /api/estoque/solicitacoes          # Listar solicita√ß√µes
POST   /api/estoque/solicitacoes          # Criar solicita√ß√£o
GET    /api/estoque/solicitacoes/[id]     # Buscar solicita√ß√£o
PUT    /api/estoque/solicitacoes/[id]     # Atualizar solicita√ß√£o
DELETE /api/estoque/solicitacoes/[id]     # Deletar solicita√ß√£o

// Aprova√ß√µes
POST   /api/estoque/solicitacoes/[id]/aprovar # Aprovar solicita√ß√£o
POST   /api/estoque/solicitacoes/[id]/rejeitar # Rejeitar solicita√ß√£o
GET    /api/estoque/solicitacoes/pendentes # Solicita√ß√µes pendentes

// Atendimento
POST   /api/estoque/solicitacoes/[id]/atender # Atender solicita√ß√£o
POST   /api/estoque/solicitacoes/[id]/atender-item # Atender item espec√≠fico
```

#### 6.1.5 Invent√°rio
```typescript
// Invent√°rios
GET    /api/estoque/inventarios           # Listar invent√°rios
POST   /api/estoque/inventarios           # Criar invent√°rio
GET    /api/estoque/inventarios/[id]      # Buscar invent√°rio
PUT    /api/estoque/inventarios/[id]      # Atualizar invent√°rio
DELETE /api/estoque/inventarios/[id]      # Deletar invent√°rio

// Contagem
POST   /api/estoque/inventarios/[id]/iniciar # Iniciar contagem
POST   /api/estoque/inventarios/[id]/contar  # Registrar contagem
POST   /api/estoque/inventarios/[id]/finalizar # Finalizar invent√°rio
GET    /api/estoque/inventarios/[id]/divergencias # Listar diverg√™ncias
POST   /api/estoque/inventarios/[id]/ajustar # Ajustar diverg√™ncias
```

#### 6.1.6 Localiza√ß√µes
```typescript
// Localiza√ß√µes
GET    /api/estoque/localizacoes          # Listar localiza√ß√µes
POST   /api/estoque/localizacoes          # Criar localiza√ß√£o
GET    /api/estoque/localizacoes/[id]     # Buscar localiza√ß√£o
PUT    /api/estoque/localizacoes/[id]     # Atualizar localiza√ß√£o
DELETE /api/estoque/localizacoes/[id]     # Deletar localiza√ß√£o
GET    /api/estoque/localizacoes/tree     # √Årvore de localiza√ß√µes
GET    /api/estoque/localizacoes/[id]/saldos # Saldos por localiza√ß√£o
```

#### 6.1.7 Relat√≥rios
```typescript
// Relat√≥rios
GET    /api/estoque/relatorios/posicao    # Posi√ß√£o de estoque
GET    /api/estoque/relatorios/movimentacao # Relat√≥rio de movimenta√ß√£o
GET    /api/estoque/relatorios/abc        # An√°lise ABC
GET    /api/estoque/relatorios/giro       # Giro de estoque
GET    /api/estoque/relatorios/validade   # Produtos pr√≥ximos ao vencimento
GET    /api/estoque/relatorios/minimo     # Produtos abaixo do m√≠nimo
```

### 6.2 Webhooks de Integra√ß√£o
```typescript
// Webhooks para outros m√≥dulos
POST   /api/estoque/webhook/entrada-compra    # Entrada por compra
POST   /api/estoque/webhook/saida-tombamento  # Sa√≠da para tombamento
POST   /api/estoque/webhook/ajuste-inventario # Ajuste de invent√°rio
```

---

## 7. Componentes de Interface Planejados

### 7.1 Componentes de Produtos
- **ProdutoForm:** Formul√°rio de cadastro/edi√ß√£o
- **ProdutoList:** Lista de produtos com filtros
- **ProdutoCard:** Card com informa√ß√µes resumidas
- **ProdutoSearch:** Busca avan√ßada de produtos
- **ProdutoSaldo:** Visualiza√ß√£o de saldo atual

### 7.2 Componentes de Movimenta√ß√µes
- **MovimentacaoForm:** Formul√°rio de movimenta√ß√£o
- **MovimentacaoList:** Hist√≥rico de movimenta√ß√µes
- **EntradaForm:** Formul√°rio espec√≠fico para entradas
- **SaidaForm:** Formul√°rio espec√≠fico para sa√≠das
- **TransferenciaForm:** Formul√°rio de transfer√™ncia

### 7.3 Componentes de Solicita√ß√µes
- **SolicitacaoForm:** Formul√°rio de nova solicita√ß√£o
- **SolicitacaoList:** Lista de solicita√ß√µes
- **SolicitacaoCard:** Card com status da solicita√ß√£o
- **AprovacaoForm:** Formul√°rio de aprova√ß√£o
- **AtendimentoForm:** Formul√°rio de atendimento

### 7.4 Componentes de Invent√°rio
- **InventarioForm:** Formul√°rio de novo invent√°rio
- **InventarioList:** Lista de invent√°rios
- **ContagemForm:** Formul√°rio de contagem
- **DivergenciaList:** Lista de diverg√™ncias
- **AjusteForm:** Formul√°rio de ajustes

### 7.5 Componentes de Relat√≥rios
- **RelatorioSaldos:** Relat√≥rio de posi√ß√£o de estoque
- **RelatorioMovimentacao:** Relat√≥rio de movimenta√ß√µes
- **RelatorioABC:** An√°lise ABC de produtos
- **RelatorioGiro:** Relat√≥rio de giro de estoque
- **DashboardEstoque:** Dashboard principal

---

## 8. Permiss√µes e Seguran√ßa

### 8.1 Perfis de Acesso

#### 8.1.1 Almoxarife
- **Produtos:** Visualizar, criar, editar
- **Movimenta√ß√µes:** Todas as opera√ß√µes
- **Saldos:** Visualizar todos
- **Solicita√ß√µes:** Atender e gerenciar
- **Invent√°rio:** Executar contagens
- **Localiza√ß√µes:** Visualizar e editar

#### 8.1.2 Solicitante
- **Produtos:** Visualizar cat√°logo
- **Saldos:** Visualizar disponibilidade
- **Solicita√ß√µes:** Criar e acompanhar pr√≥prias
- **Relat√≥rios:** B√°sicos do seu centro de custo

#### 8.1.3 Aprovador
- **Solicita√ß√µes:** Aprovar/rejeitar
- **Relat√≥rios:** Do seu centro de custo
- **Saldos:** Visualizar do seu centro

#### 8.1.4 Gestor de Estoque
- **Produtos:** Gest√£o completa
- **Categorias:** Gest√£o completa
- **Movimenta√ß√µes:** Todas as opera√ß√µes
- **Invent√°rio:** Planejar e executar
- **Relat√≥rios:** Todos os relat√≥rios
- **Configura√ß√µes:** Par√¢metros do m√≥dulo

#### 8.1.5 Administrador
- **Acesso total:** Todas as funcionalidades
- **Configura√ß√µes:** Sistema completo
- **Usu√°rios:** Gest√£o de permiss√µes
- **Auditoria:** Logs e trilhas

### 8.2 Controles de Seguran√ßa

#### 8.2.1 Controle de Acesso
- Autentica√ß√£o obrigat√≥ria
- Autoriza√ß√£o baseada em perfis
- Isolamento por empresa (multi-tenant)
- Controle por centro de custo
- Sess√µes com timeout

#### 8.2.2 Auditoria
- Log de todas as movimenta√ß√µes
- Trilha de aprova√ß√µes
- Hist√≥rico de altera√ß√µes
- Identifica√ß√£o do usu√°rio respons√°vel
- Timestamp de todas as opera√ß√µes

#### 8.2.3 Valida√ß√µes
- Valida√ß√£o de saldos dispon√≠veis
- Controle de permiss√µes por opera√ß√£o
- Valida√ß√£o de dados obrigat√≥rios
- Verifica√ß√£o de integridade
- Preven√ß√£o de opera√ß√µes inv√°lidas

#### 8.2.4 Backup e Recupera√ß√£o
- Backup autom√°tico di√°rio
- Reten√ß√£o de dados por 7 anos
- Recupera√ß√£o point-in-time
- Redund√¢ncia de dados cr√≠ticos
- Plano de continuidade

---

## 9. Integra√ß√µes Planejadas

### 9.1 M√≥dulos Internos

#### 9.1.1 Integra√ß√£o com Compras
- **Entrada Autom√°tica:** Recebimento de mercadorias gera entrada no estoque
- **Classifica√ß√£o:** Produtos s√£o classificados automaticamente (estoque vs ativo)
- **Centro de Custo:** Vincula√ß√£o autom√°tica ao centro de custo da compra
- **Fornecedores:** Sincroniza√ß√£o de dados de fornecedores
- **Pre√ßos:** Atualiza√ß√£o autom√°tica de pre√ßos de compra

**Fluxo de Integra√ß√£o:**
1. Pedido de compra aprovado ‚Üí Reserva no estoque (se produto existente)
2. Recebimento de mercadoria ‚Üí Entrada autom√°tica no estoque
3. Nota fiscal ‚Üí Atualiza√ß√£o de valores e dados fiscais
4. Classifica√ß√£o autom√°tica ‚Üí Estoque ou Tombamento

#### 9.1.2 Integra√ß√£o com Tombamento
- **Transfer√™ncia Autom√°tica:** Produtos com valor > R$ 1.000 v√£o para tombamento
- **Dados Compartilhados:** Informa√ß√µes b√°sicas do produto
- **Localiza√ß√£o:** Transfer√™ncia de localiza√ß√£o f√≠sica
- **Responsabilidade:** Defini√ß√£o de respons√°vel pelo ativo
- **Garantia:** Transfer√™ncia de informa√ß√µes de garantia

**Fluxo de Integra√ß√£o:**
1. Entrada no estoque ‚Üí An√°lise de valor
2. Valor > limite ‚Üí Cria√ß√£o autom√°tica de ativo
3. Transfer√™ncia de dados ‚Üí M√≥dulo de tombamento
4. Baixa no estoque ‚Üí Entrada no tombamento

#### 9.1.3 Integra√ß√£o com Centro de Custo
- **Segrega√ß√£o:** Estoque separado por centro de custo
- **Or√ßamento:** Controle de or√ßamento por centro
- **Aprova√ß√µes:** Workflow baseado na hierarquia do centro
- **Relat√≥rios:** Relat√≥rios espec√≠ficos por centro
- **Transfer√™ncias:** Movimenta√ß√£o entre centros

#### 9.1.4 Outras Integra√ß√µes Internas
- **Financeiro:** Valoriza√ß√£o de estoque e custos
- **Contabilidade:** Lan√ßamentos cont√°beis autom√°ticos
- **Relat√≥rios:** Dados para dashboards e analytics
- **Notifica√ß√µes:** Alertas de estoque m√≠nimo e solicita√ß√µes
- **Usu√°rios:** Controle de acesso e responsabilidades

### 9.2 Sistemas Externos

#### 9.2.1 ERP Externo
- **Sincroniza√ß√£o:** Produtos e movimenta√ß√µes
- **Importa√ß√£o:** Dados de produtos existentes
- **Exporta√ß√£o:** Movimenta√ß√µes para contabiliza√ß√£o
- **Reconcilia√ß√£o:** Valida√ß√£o de saldos

#### 9.2.2 C√≥digo de Barras
- **Leitura:** Identifica√ß√£o r√°pida de produtos
- **Etiquetas:** Gera√ß√£o de etiquetas com c√≥digo
- **Invent√°rio:** Contagem com leitores
- **Movimenta√ß√£o:** Registro r√°pido com c√≥digo

#### 9.2.3 Dispositivos M√≥veis
- **App Mobile:** Aplicativo para almoxarifado
- **Invent√°rio:** Contagem com dispositivos m√≥veis
- **Solicita√ß√µes:** Cria√ß√£o via mobile
- **Consultas:** Saldos e localiza√ß√µes

### 9.3 APIs de Terceiros
- **Correios:** Rastreamento de entregas
- **Transportadoras:** Status de entregas
- **Fornecedores:** Cat√°logos e pre√ßos
- **NFe:** Recep√ß√£o de notas fiscais
- **Bancos:** Concilia√ß√£o de pagamentos

---

## 10. Cronograma de Implementa√ß√£o

### 10.1 Fase 1 - Funda√ß√£o (6 semanas)

#### Semana 1-2: Estrutura Base
- ‚úÖ **Modelos de dados:** Cria√ß√£o dos modelos Prisma
- ‚úÖ **Migrations:** Estrutura do banco de dados
- ‚úÖ **APIs b√°sicas:** Endpoints CRUD principais
- ‚úÖ **Autentica√ß√£o:** Integra√ß√£o com sistema de usu√°rios

#### Semana 3-4: Produtos e Categorias
- üìã **Cadastro de produtos:** Formul√°rios e valida√ß√µes
- üìã **Gest√£o de categorias:** Hierarquia e organiza√ß√£o
- üìã **Busca e filtros:** Sistema de busca avan√ßada
- üìã **Valida√ß√µes:** Regras de neg√≥cio b√°sicas

#### Semana 5-6: Localiza√ß√µes e Estrutura
- üìã **Gest√£o de localiza√ß√µes:** Hierarquia f√≠sica
- üìã **Endere√ßamento:** Sistema de endere√ßos
- üìã **Capacidades:** Controle de capacidade
- üìã **Interface:** Componentes de localiza√ß√£o

### 10.2 Fase 2 - Movimenta√ß√µes (4 semanas)

#### Semana 7-8: Sistema de Movimenta√ß√µes
- üìã **Entradas:** Registro de entradas manuais
- üìã **Sa√≠das:** Registro de sa√≠das manuais
- üìã **Transfer√™ncias:** Movimenta√ß√£o entre locais
- üìã **Valida√ß√µes:** Controle de saldos

#### Semana 9-10: Saldos e Controles
- üìã **C√°lculo de saldos:** Sistema em tempo real
- üìã **Reservas:** Sistema de reservas
- üìã **Alertas:** Estoque m√≠nimo e m√°ximo
- üìã **Relat√≥rios b√°sicos:** Posi√ß√£o de estoque

### 10.3 Fase 3 - Solicita√ß√µes (4 semanas)

#### Semana 11-12: Sistema de Solicita√ß√µes
- üìã **Cria√ß√£o:** Formul√°rios de solicita√ß√£o
- üìã **Workflow:** Sistema de aprova√ß√µes
- üìã **Atendimento:** Interface para almoxarifado
- üìã **Notifica√ß√µes:** Alertas autom√°ticos

#### Semana 13-14: Controles Avan√ßados
- üìã **Prioriza√ß√£o:** Sistema de prioridades
- üìã **Prazos:** Controle de prazos
- üìã **Hist√≥rico:** Rastreamento completo
- üìã **Relat√≥rios:** An√°lise de solicita√ß√µes

### 10.4 Fase 4 - Invent√°rio (4 semanas)

#### Semana 15-16: Sistema de Invent√°rio
- üìã **Planejamento:** Cria√ß√£o de invent√°rios
- üìã **Contagem:** Interface de contagem
- üìã **Diverg√™ncias:** An√°lise de diferen√ßas
- üìã **Ajustes:** Sistema de ajustes

#### Semana 17-18: Controles e Relat√≥rios
- üìã **Bloqueios:** Controle de movimenta√ß√µes
- üìã **Relat√≥rios:** An√°lise de invent√°rios
- üìã **Auditoria:** Trilha de ajustes
- üìã **Mobile:** Interface m√≥vel para contagem

### 10.5 Fase 5 - Integra√ß√µes (4 semanas)

#### Semana 19-20: Integra√ß√£o com Compras
- üìã **Webhooks:** Recebimento de compras
- üìã **Classifica√ß√£o:** Estoque vs Tombamento
- üìã **Sincroniza√ß√£o:** Dados de produtos
- üìã **Testes:** Valida√ß√£o de integra√ß√£o

#### Semana 21-22: Integra√ß√£o com Tombamento
- üìã **Transfer√™ncia:** Produtos para ativos
- üìã **Dados:** Sincroniza√ß√£o de informa√ß√µes
- üìã **Workflow:** Processo automatizado
- üìã **Valida√ß√µes:** Regras de transfer√™ncia

### 10.6 Fase 6 - Finaliza√ß√£o (2 semanas)

#### Semana 23-24: Testes e Ajustes
- üìã **Testes integrados:** Cen√°rios completos
- üìã **Performance:** Otimiza√ß√µes
- üìã **Documenta√ß√£o:** Manual do usu√°rio
- üìã **Treinamento:** Capacita√ß√£o da equipe

### 10.7 Melhorias Futuras
- üìã **Q2 2025:** App mobile completo
- üìã **Q3 2025:** IA para previs√£o de demanda
- üìã **Q4 2025:** Integra√ß√£o com IoT
- üìã **2026:** Automa√ß√£o avan√ßada

---

## 11. Testes e Valida√ß√£o

### 11.1 Estrat√©gia de Testes

#### 11.1.1 Testes Unit√°rios
- **Componentes:** Todos os componentes React
- **Hooks:** Hooks customizados
- **Servi√ßos:** L√≥gica de neg√≥cio
- **Utilit√°rios:** Fun√ß√µes auxiliares
- **Cobertura:** M√≠nimo 90%

#### 11.1.2 Testes de Integra√ß√£o
- **APIs:** Endpoints e valida√ß√µes
- **Banco de dados:** Opera√ß√µes CRUD
- **Integra√ß√µes:** M√≥dulos externos
- **Workflows:** Fluxos completos

#### 11.1.3 Testes E2E
- **Cen√°rios completos:** Fluxos de usu√°rio
- **Integra√ß√µes:** Entre m√≥dulos
- **Performance:** Carga e stress
- **Compatibilidade:** Browsers e dispositivos

### 11.2 Cen√°rios de Teste

#### 11.2.1 Gest√£o de Produtos
- ‚úÖ Cadastro de produto completo
- ‚úÖ Edi√ß√£o de informa√ß√µes
- ‚úÖ Busca e filtros
- ‚úÖ Categoriza√ß√£o
- ‚úÖ Valida√ß√µes de dados

#### 11.2.2 Movimenta√ß√µes
- ‚úÖ Entrada de produtos
- ‚úÖ Sa√≠da de produtos
- ‚úÖ Transfer√™ncias
- ‚úÖ Valida√ß√£o de saldos
- ‚úÖ Controle de lotes

#### 11.2.3 Solicita√ß√µes
- ‚úÖ Cria√ß√£o de solicita√ß√£o
- ‚úÖ Workflow de aprova√ß√£o
- ‚úÖ Atendimento
- ‚úÖ Controle de prazos
- ‚úÖ Notifica√ß√µes

#### 11.2.4 Invent√°rio
- ‚úÖ Cria√ß√£o de invent√°rio
- ‚úÖ Processo de contagem
- ‚úÖ An√°lise de diverg√™ncias
- ‚úÖ Ajustes autom√°ticos
- ‚úÖ Relat√≥rios

#### 11.2.5 Integra√ß√µes
- ‚úÖ Integra√ß√£o com Compras
- ‚úÖ Integra√ß√£o com Tombamento
- ‚úÖ Centro de Custo
- ‚úÖ Webhooks
- ‚úÖ Sincroniza√ß√£o

### 11.3 Crit√©rios de Aceita√ß√£o

#### 11.3.1 Funcionalidades B√°sicas
- ‚úÖ Cadastro de produtos funcionando
- ‚úÖ Movimenta√ß√µes registradas corretamente
- ‚úÖ Saldos calculados em tempo real
- ‚úÖ Solicita√ß√µes com workflow completo
- ‚úÖ Invent√°rio f√≠sico execut√°vel

#### 11.3.2 Integra√ß√µes
- ‚úÖ Entrada autom√°tica por compras
- ‚úÖ Transfer√™ncia para tombamento
- ‚úÖ Segrega√ß√£o por centro de custo
- ‚úÖ Webhooks funcionando
- ‚úÖ Sincroniza√ß√£o de dados

#### 11.3.3 Performance
- ‚úÖ Consultas de saldo < 500ms
- ‚úÖ Listagens < 1s
- ‚úÖ Relat√≥rios < 5s
- ‚úÖ Suporte a 10.000+ produtos
- ‚úÖ Backup autom√°tico funcionando

#### 11.3.4 Seguran√ßa
- ‚úÖ Controle de acesso por perfil
- ‚úÖ Auditoria completa
- ‚úÖ Isolamento por empresa
- ‚úÖ Valida√ß√µes de seguran√ßa
- ‚úÖ Criptografia de dados

### 11.4 M√©tricas de Qualidade
- **Cobertura de testes:** >90%
- **Performance:** <2s resposta m√©dia
- **Disponibilidade:** 99.9%
- **Precis√£o de saldos:** 99.9%
- **Satisfa√ß√£o do usu√°rio:** >4.5/5

---

**√öltima atualiza√ß√£o:** Janeiro 2025  
**Pr√≥xima revis√£o:** Mar√ßo 2025  
**Mantido por:** Equipe de Desenvolvimento